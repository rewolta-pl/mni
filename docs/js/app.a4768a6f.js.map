{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?c0a3","webpack:///./src/Flipbook.vue?c689","webpack:///./src/App.vue?5653","webpack:///./src/Flipbook.vue?219f","webpack:///./src/matrix.coffee","webpack:///./src/Flipbook.vue?b3c0","webpack:///./src/Flipbook.vue","webpack:///src/App.vue","webpack:///./src/App.vue?a7d1","webpack:///./src/App.vue","webpack:///./src/main.coffee","webpack:///./src/Flipbook.vue?9331","webpack:///./src/App.vue?3d2a","webpack:///./src/Flipbook.vue?844f","webpack:///./src/Flipbook.vue?1845","webpack:///./src/App.vue?f403"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","app","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_App_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_App_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default","IE","easeIn","easeInOut","easeOut","Appvue_type_template_id_9023a3c8_render","_vm","this","_h","$createElement","_c","_self","class","has-mouse","hasMouse","attrs","id","on","touchstart","$event","ref","staticClass","pages","zooms","flip-left-start","onFlipLeftStart","flip-left-end","onFlipLeftEnd","flip-right-start","onFlipRightStart","flip-right-end","onFlipRightEnd","scopedSlots","_u","fn","flipbook","disabled","canFlipLeft","click","flipLeft","canZoomIn","zoomIn","_v","_s","page","numPages","canZoomOut","zoomOut","canFlipRight","flipRight","staticRenderFns","Flipbookvue_type_template_id_525bd611_scoped_true_render","_t","zoom","zooming","drag-to-scroll","dragToScroll","style","cursor","touchmove","onTouchMove","pointermove","onPointerMove","mousemove","onMouseMove","touchend","onTouchEnd","touchcancel","pointerup","onPointerUp","pointercancel","mouseup","onMouseUp","wheel","onWheel","transform","centerOffsetSmoothed","pageUrl","leftPage","width","pageWidth","height","pageHeight","left","xMargin","top","yMargin","src","load","didLoadImage","_e","displayedPages","rightPage","viewWidth","opacity","flip","_l","bgImage","lighting","bgPos","z","blank","backgroundImage","backgroundSize","polygonBgSize","backgroundPosition","polygonWidth","polygonHeight","zIndex","directives","rawName","expression","boundingLeft","boundingRight","onTouchStart","pointerdown","onPointerDown","mousedown","onMouseDown","Flipbookvue_type_template_id_525bd611_scoped_true_staticRenderFns","matrix_coffee","Matrix","arg","classCallCheck","toConsumableArray","rematrix_es","createClass","multiply","x","y","deg","Math","pow","test","navigator","userAgent","Flipbookvue_type_script_lang_coffee_","props","type","Array","required","pagesHiRes","default","flipDuration","Number","zoomDuration","perspective","nPolygons","ambient","gloss","swipeMin","singlePage","Boolean","viewHeight","imageWidth","imageHeight","nImageLoad","nImageLoadTrigger","imageLoadCallback","currentPage","zoomIndex","touchStartX","touchStartY","maxMove","activeCursor","hasTouchEvents","hasPointerEvents","minX","maxX","preloadedImages","progress","direction","frontImage","backImage","auto","currentCenterOffset","animatingCenter","startScrollLeft","startScrollTop","scrollLeft","scrollTop","computed","max","pageScale","scale","vw","xScale","yScale","round","w","ceil","concat","polygonArray","makePolygonArray","centerOffset","retval","scrollLeftMin","scrollLeftMax","scrollTopMin","h","scrollTopMax","scrollLeftLimited","min","scrollTopLimited","mounted","addEventListener","onResize","passive","preloadImages","beforeDestroy","removeEventListener","methods","viewport","$refs","clientWidth","clientHeight","url","hiRes","arguments","undefined","flipStart","face","bgImg","dRadian","dRotate","image","originRight","pageMatrix","pageRotation","pageX","rad","radian","radius","results","rotate","theta","x0","x1","translate","rotateY","PI","clone","sin","cos","translate3d","transformX","computeLighting","toString","abs","rot","DEG","POW","blackness","diffuse","gradients","lightingPoints","specular","map","join","_this","requestAnimationFrame","flipAuto","ease","_animate","duration","startRatio","t0","_this2","Date","now","$emit","ratio","onImageLoad","flipRevert","_animate2","_this3","trigger","cb","ev","target","path","naturalWidth","naturalHeight","zoomTo","fixedX","fixedY","_animate3","containerFixedX","containerFixedY","end","endX","endY","start","startX","startY","_this4","zoomAt","touch","rect","getBoundingClientRect","pageY","swipeStart","swipeMove","dragScroll","swipeEnd","changedTouches","cancelable","preventDefault","which","setPointerCapture","pointerId","error","releasePointerCapture","deltaX","deltaY","img","k","ref1","ref2","ref3","keys","Image","watch","_animate4","_this5","diff","rate","val","_this6","_this7","src_Flipbookvue_type_script_lang_coffee_","component","componentNormalizer","Flipbook","Appvue_type_script_lang_js_","components","LeftIcon","ChevronLeftCircle","RightIcon","ChevronRightCircle","PlusIcon","PlusCircle","MinusIcon","MinusCircle","src_Appvue_type_script_lang_js_","App_component","App","vue_runtime_esm","config","productionTip","render","$mount","_node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Flipbook_vue_vue_type_style_index_0_id_525bd611_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Flipbook_vue_vue_type_style_index_0_id_525bd611_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","content","locals","add","sourceMap","shadowMode"],"mappings":"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","file":"js/app.a4768a6f.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([\"1430\",\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../node_modules/vue-style-loader/index.js??ref--6-oneOf-1-0!../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../node_modules/vue-style-loader/index.js??ref--6-oneOf-1-0!../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Matrix from './matrix'\n\neaseIn = (x) -> Math.pow(x, 2)\neaseOut = (x) -> 1 - easeIn(1 - x)\neaseInOut = (x) ->\n  if (x < 0.5) then easeIn(x * 2) / 2 else 0.5 + easeOut((x - 0.5) * 2) / 2\n\nIE = /Trident/.test navigator.userAgent\n\nexport default\n  props:\n    pages:\n      type: Array\n      required: true\n    pagesHiRes:\n      type: Array\n      default: -> []\n    flipDuration:\n      type: Number\n      default: 1000\n    zoomDuration:\n      type: Number\n      default: 500\n    zooms:\n      type: Array\n      default: -> [1, 2, 4]\n    perspective:\n      type: Number\n      default: 2400\n    nPolygons:\n      type: Number\n      default: 10\n    ambient:\n      type: Number\n      default: 0.4\n    gloss:\n      type: Number\n      default: 0.6\n    swipeMin:\n      type: Number\n      default: 3\n    singlePage:\n      type: Boolean\n      default: false\n\n  data: ->\n    viewWidth: 0\n    viewHeight: 0\n    imageWidth: null\n    imageHeight: null\n    displayedPages: 1\n    nImageLoad: 0\n    nImageLoadTrigger: 0\n    imageLoadCallback: null\n    currentPage: 0\n    leftPage: 0\n    rightPage: 1\n    zoomIndex: 0\n    zoom: @zooms[0]\n    zooming: false\n    touchStartX: null\n    touchStartY: null\n    maxMove: 0\n    activeCursor: null\n    hasTouchEvents: false\n    hasPointerEvents: false\n    minX: Infinity\n    maxX: -Infinity\n    preloadedImages: {}\n    flip:\n      progress: 0\n      direction: null\n      frontImage: null\n      backImage: null\n      auto: false\n      opacity: 1\n    currentCenterOffset: null\n    animatingCenter: false\n    startScrollLeft: 0\n    startScrollTop: 0\n    scrollLeft: 0\n    scrollTop: 0\n\n  computed:\n    canFlipLeft: ->\n      not @flip.direction and @currentPage >= @displayedPages and\n        not (@displayedPages == 1 and not @pageUrl(@leftPage - 1))\n    canFlipRight: ->\n      not @flip.direction and @currentPage < @pages.length - @displayedPages\n    canZoomIn: -> not @zooming and @zoomIndex < @zooms.length - 1\n    canZoomOut: -> not @zooming and @zoomIndex > 0\n    numPages: -> if @pages[0] == null then @pages.length - 1 else @pages.length\n    page: ->\n      if @pages[0] != null\n        @currentPage + 1\n      else\n        Math.max 1, @currentPage\n\n    cursor: ->\n      if @activeCursor\n        @activeCursor\n      else if IE\n        'auto'\n      else if @zoomIndex < @zooms.length - 1\n        'zoom-in'\n      else\n        'zoom-out'\n\n    pageScale: ->\n      vw = @viewWidth / @displayedPages\n      xScale = vw / @imageWidth\n      yScale = @viewHeight / @imageHeight\n      scale = if xScale < yScale then xScale else yScale\n      if scale < 1 then scale else 1\n    pageWidth: -> Math.round(@imageWidth * @pageScale)\n    pageHeight: -> Math.round(@imageHeight * @pageScale)\n    xMargin: -> (@viewWidth - @pageWidth * @displayedPages) / 2\n    yMargin: -> (@viewHeight - @pageHeight) / 2\n    polygonWidth: ->\n      w = @pageWidth / @nPolygons\n      w = Math.ceil(w + 1 / @zoom)\n      w + 'px'\n    polygonHeight: -> @pageHeight + 'px'\n    polygonBgSize: -> \"#{@pageWidth}px #{@pageHeight}px\"\n    polygonArray: ->\n      @makePolygonArray('front').concat(@makePolygonArray('back'))\n    boundingLeft: ->\n      if @displayedPages == 1\n        @xMargin\n      else\n        x =\n          if @pageUrl(@leftPage)\n            @xMargin\n          else\n            @viewWidth / 2\n        if x < @minX then x else @minX\n    boundingRight: ->\n      if @displayedPages == 1\n        @viewWidth - @xMargin\n      else\n        x =\n          if @pageUrl(@rightPage)\n            @viewWidth - @xMargin\n          else\n            @viewWidth / 2\n        if x > @maxX then x else @maxX\n    centerOffset: ->\n      retval = Math.round(@viewWidth / 2 - (@boundingLeft + @boundingRight) / 2)\n      if @currentCenterOffset == null and @imageWidth != null\n        @currentCenterOffset = retval\n      retval\n    centerOffsetSmoothed: -> Math.round(@currentCenterOffset)\n\n    dragToScroll: -> not @hasTouchEvents\n\n    scrollLeftMin: ->\n      w = (@boundingRight - @boundingLeft) * @zoom\n      if w < @viewWidth\n        (@boundingLeft + @centerOffsetSmoothed) * @zoom - (@viewWidth - w) / 2\n      else\n        (@boundingLeft + @centerOffsetSmoothed) * @zoom\n\n    scrollLeftMax: ->\n      w = (@boundingRight - @boundingLeft) * @zoom\n      if w < @viewWidth\n        (@boundingLeft + @centerOffsetSmoothed) * @zoom - (@viewWidth - w) / 2\n      else\n        (@boundingRight + @centerOffsetSmoothed)* @zoom - @viewWidth\n\n    scrollTopMin: ->\n      h = @pageHeight * @zoom\n      if h < @viewHeight\n        @yMargin * @zoom - (@viewHeight - h) / 2\n      else\n        @yMargin * @zoom\n\n    scrollTopMax: ->\n      h = @pageHeight * @zoom\n      if h < @viewHeight\n        @yMargin * @zoom - (@viewHeight - h) / 2\n      else\n        (@yMargin + @pageHeight) * @zoom - @viewHeight\n\n    scrollLeftLimited: ->\n      Math.min(@scrollLeftMax, Math.max(@scrollLeftMin, @scrollLeft))\n\n    scrollTopLimited: ->\n      Math.min(@scrollTopMax, Math.max(@scrollTopMin, @scrollTop))\n\n  mounted: ->\n    window.addEventListener 'resize',  @onResize, passive: true\n    @onResize()\n    @preloadImages()\n\n  beforeDestroy: ->\n    window.removeEventListener 'resize',  @onResize, passive: true\n\n  methods:\n    onResize: ->\n      viewport = @$refs.viewport\n      return unless viewport\n      @viewWidth = viewport.clientWidth\n      @viewHeight = viewport.clientHeight\n      @displayedPages =\n        if @viewWidth > @viewHeight and not @singlePage then 2 else 1\n      @currentPage &= ~1 if @displayedPages == 2\n      @currentPage++ if @displayedPages == 1 and not @pageUrl(@leftPage)\n      @minX = Infinity\n      @maxX = -Infinity\n\n    pageUrl: (page, hiRes = false) ->\n      if hiRes and @zoom > 1 and not @zooming\n        url = @pagesHiRes[page]\n        return url if url\n      @pages[page] or null\n\n    flipLeft: ->\n      return unless @canFlipLeft\n      @flipStart 'left', true\n\n    flipRight: ->\n      return unless @canFlipRight\n      @flipStart 'right', true\n\n    makePolygonArray: (face) ->\n      return [] unless @flip.direction\n\n      progress = @flip.progress\n      direction = @flip.direction\n\n      if @displayedPages == 1 and direction == 'left'\n        progress = 1 - progress\n        direction = 'right'\n\n      @flip.opacity =\n        if @displayedPages == 1 and progress > .7\n          1 - (progress - .7) / .3\n        else\n          1\n\n      image = if face == 'front' then @flip.frontImage else @flip.backImage\n      bgImg = image && \"url('#{image}')\"\n\n      polygonWidth = @pageWidth / @nPolygons\n\n      pageX = @xMargin\n      originRight = false\n      if @displayedPages == 1\n        if face == 'back'\n          originRight = true\n          pageX = @xMargin - @pageWidth\n      else\n        if direction == 'left'\n          if face == 'back'\n            pageX = @viewWidth / 2\n          else\n            originRight = true\n        else\n          if face == 'front'\n            pageX = @viewWidth / 2\n          else\n            originRight = true\n\n      pageMatrix = new Matrix\n      pageMatrix.translate @viewWidth / 2\n      pageMatrix.perspective @perspective\n      pageMatrix.translate -@viewWidth / 2\n      pageMatrix.translate pageX, @yMargin\n\n      pageRotation = 0\n      if progress > 0.5\n        pageRotation = -(progress - 0.5) * 2 * 180\n      if direction == 'left'\n        pageRotation = -pageRotation\n      pageRotation += 180 if face == 'back'\n\n      if pageRotation\n        pageMatrix.translate @pageWidth if originRight\n        pageMatrix.rotateY pageRotation\n        pageMatrix.translate -@pageWidth if originRight\n\n      if progress < 0.5\n        theta = progress * 2 * Math.PI\n      else\n        theta = (1 - (progress - 0.5) * 2) * Math.PI\n      if theta == 0\n        theta = 1e-9\n      radius = @pageWidth / theta\n\n      radian = 0\n      dRadian = theta / @nPolygons\n      rotate = dRadian / 2 / Math.PI * 180\n      dRotate = dRadian / Math.PI * 180\n\n      if originRight\n        rotate = -theta / Math.PI * 180 + dRotate / 2\n\n      if face == 'back'\n        rotate = -rotate\n        dRotate = -dRotate\n\n      @minX = Infinity\n      @maxX = -Infinity\n      for i in [0...@nPolygons]\n        bgPos = \"#{i / (@nPolygons - 1) * 100}% 0px\"\n\n        m = pageMatrix.clone()\n        rad = if originRight then theta - radian else radian\n        x = Math.sin(rad) * radius\n        x = @pageWidth - x if originRight\n        z = (1 - Math.cos(rad)) * radius\n        z = -z if face == 'back'\n\n        m.translate3d x, 0, z\n        m.rotateY -rotate\n\n        x0 = m.transformX 0\n        x1 = m.transformX polygonWidth\n        @maxX = Math.max Math.max(x0, x1), @maxX\n        @minX = Math.min Math.min(x0, x1), @minX\n\n        lighting = @computeLighting(pageRotation - rotate, dRotate)\n\n        radian += dRadian\n        rotate += dRotate\n        [face+i, bgImg, lighting, bgPos, m.toString(), Math.abs(Math.round(z))]\n\n    computeLighting: (rot, dRotate) ->\n      gradients = []\n      lightingPoints = [-0.5, -0.25, 0, 0.25, 0.5]\n      if @ambient < 1\n        blackness = 1 - @ambient\n        diffuse = lightingPoints.map (d) =>\n          (1 - Math.cos((rot - dRotate * d) / 180 * Math.PI)) * blackness\n        gradients.push \"\"\"\n          linear-gradient(to right,\n            rgba(0, 0, 0, #{diffuse[0]}),\n            rgba(0, 0, 0, #{diffuse[1]}) 25%,\n            rgba(0, 0, 0, #{diffuse[2]}) 50%,\n            rgba(0, 0, 0, #{diffuse[3]}) 75%,\n            rgba(0, 0, 0, #{diffuse[4]}))\n          \"\"\"\n\n      if @gloss > 0 and not IE\n        DEG = 30\n        POW = 200\n        specular = lightingPoints.map (d) =>\n          Math.max(\n            Math.cos((rot + DEG - dRotate * d) / 180 * Math.PI) ** POW,\n            Math.cos((rot - DEG - dRotate * d) / 180 * Math.PI) ** POW\n          )\n        gradients.push \"\"\"\n          linear-gradient(to right,\n            rgba(255, 255, 255, #{specular[0] * @gloss}),\n            rgba(255, 255, 255, #{specular[1] * @gloss}) 25%,\n            rgba(255, 255, 255, #{specular[2] * @gloss}) 50%,\n            rgba(255, 255, 255, #{specular[3] * @gloss}) 75%,\n            rgba(255, 255, 255, #{specular[4] * @gloss}))\n          \"\"\"\n      gradients.join(',')\n\n    flipStart: (direction, auto) ->\n      if direction == 'left'\n        if @displayedPages == 1\n          @flip.frontImage = @pageUrl(@currentPage - 1)\n          @flip.backImage = null\n        else\n          @flip.frontImage = @pageUrl(@leftPage)\n          @flip.backImage = @pageUrl(@currentPage - @displayedPages + 1)\n      else\n        if @displayedPages == 1\n          @flip.frontImage = @pageUrl(@currentPage)\n          @flip.backImage = null\n        else\n          @flip.frontImage = @pageUrl(@rightPage)\n          @flip.backImage = @pageUrl(@currentPage + @displayedPages)\n\n      @flip.direction = direction\n      @flip.progress = 0\n      requestAnimationFrame => requestAnimationFrame =>\n        if @flip.direction == 'left'\n          if @displayedPages == 2\n            @leftPage = @currentPage - @displayedPages\n        else\n          if @displayedPages == 1\n            @leftPage = @currentPage + @displayedPages\n          else\n            @rightPage = @currentPage + 1 + @displayedPages\n        @flipAuto(true) if auto\n\n    flipAuto: (ease) ->\n      t0 = Date.now()\n      duration = @flipDuration * (1 - @flip.progress)\n      startRatio = @flip.progress\n      @flip.auto = true\n      @$emit \"flip-#{@flip.direction}-start\", @page\n      animate = => requestAnimationFrame =>\n        t = Date.now() - t0\n        ratio = startRatio + t / duration\n        ratio = 1 if ratio > 1\n        @flip.progress = if ease then easeInOut ratio else ratio\n        if ratio < 1\n          animate()\n        else\n          if @flip.direction == 'left'\n            @currentPage -= @displayedPages\n          else\n            @currentPage += @displayedPages\n          @$emit \"flip-#{@flip.direction}-end\", @page\n          if @displayedPages == 1 and @flip.direction == 'right'\n            @flip.direction = null\n          else\n            @onImageLoad 1, => @flip.direction = null\n          @flip.auto = false\n      animate()\n\n    flipRevert: ->\n      t0 = Date.now()\n      duration = @flipDuration * @flip.progress\n      startRatio = @flip.progress\n      @flip.auto = true\n      animate = => requestAnimationFrame =>\n        t = Date.now() - t0\n        ratio = startRatio - startRatio * t / duration\n        ratio = 0 if ratio < 0\n        @flip.progress = ratio\n        if ratio > 0\n          animate()\n        else\n          @leftPage = @currentPage\n          @rightPage = @currentPage + 1\n          if @displayedPages == 1 and @flip.direction == 'left'\n            @flip.direction = null\n          else\n            @onImageLoad 1, => @flip.direction = null\n          @flip.auto = false\n      animate()\n\n    onImageLoad: (trigger, cb) ->\n      @nImageLoad = 0\n      @nImageLoadTrigger = trigger\n      @imageLoadCallback = cb\n\n    didLoadImage: (ev) ->\n      if @imageWidth == null\n        @imageWidth = (ev.target or ev.path[0]).naturalWidth\n        @imageHeight = (ev.target or ev.path[0]).naturalHeight\n      return unless @imageLoadCallback\n      if ++@nImageLoad >= @nImageLoadTrigger\n        @imageLoadCallback()\n        @imageLoadCallback = null\n\n    zoomIn: ->\n      return unless @canZoomIn\n      @zoomIndex += 1\n      @zoomTo @zooms[@zoomIndex]\n\n    zoomOut: ->\n      return unless @canZoomOut\n      @zoomIndex -= 1\n      @zoomTo @zooms[@zoomIndex]\n\n    zoomTo: (zoom, fixedX, fixedY) ->\n      start = @zoom\n      end = zoom\n      viewport = @$refs.viewport\n      startX = viewport.scrollLeft\n      startY = viewport.scrollTop\n      fixedX or= viewport.clientWidth / 2\n      fixedY or= viewport.clientHeight / 2\n      containerFixedX = fixedX + startX\n      containerFixedY = fixedY + startY\n      endX = containerFixedX / start * end - fixedX\n      endY = containerFixedY / start * end - fixedY\n\n      t0 = Date.now()\n      @zooming = true\n      animate = => requestAnimationFrame =>\n        t = Date.now() - t0\n        ratio = t / @zoomDuration\n        ratio = 1 if ratio > 1 or IE\n        ratio = easeInOut(ratio)\n        @zoom = start + (end - start) * ratio\n        @scrollLeft = startX + (endX - startX) * ratio\n        @scrollTop = startY + (endY - startY) * ratio\n        if t < @zoomDuration\n          animate()\n        else\n          @zooming = false\n          @zoom = zoom\n          @scrollLeft = endX\n          @scrollTop = endY\n      animate()\n      if end > 1\n        @preloadImages true\n\n    zoomAt: (touch) ->\n      rect = @$refs.viewport.getBoundingClientRect()\n      x = touch.pageX - rect.left\n      y = touch.pageY - rect.top\n      @zoomIndex = (@zoomIndex + 1) % @zooms.length\n      @zoomTo @zooms[@zoomIndex], x, y\n\n    swipeStart: (touch) ->\n      @touchStartX = touch.pageX\n      @touchStartY = touch.pageY\n      @maxMove = 0\n      if @zoom <= 1\n        @activeCursor = 'grab'\n      else\n        @startScrollLeft = @$refs.viewport.scrollLeft\n        @startScrollTop = @$refs.viewport.scrollTop\n        @activeCursor = 'all-scroll'\n\n    swipeMove: (touch) ->\n      return unless @touchStartX?\n      x = touch.pageX - @touchStartX\n      y = touch.pageY - @touchStartY\n      @maxMove = Math.max(@maxMove, Math.abs(x))\n      @maxMove = Math.max(@maxMove, Math.abs(y))\n      if @zoom > 1\n        @dragScroll x, y if @dragToScroll\n        return\n      return if Math.abs(y) > Math.abs(x)\n      @activeCursor = 'grabbing'\n      if x > 0\n        if @flip.direction == null and @canFlipLeft and x >= @swipeMin\n          @flipStart 'left', false\n        if @flip.direction == 'left'\n          @flip.progress = x / @pageWidth\n          @flip.progress = 1 if @flip.progress > 1\n      else\n        if @flip.direction == null && @canFlipRight and x <= -@swipeMin\n          @flipStart 'right', false\n        if @flip.direction == 'right'\n          @flip.progress = -x / @pageWidth\n          @flip.progress = 1 if @flip.progress > 1\n      true\n\n    swipeEnd: (touch) ->\n      return unless @touchStartX?\n      @zoomAt touch if @maxMove < @swipeMin\n      if @flip.direction != null and not @flip.auto\n        if @flip.progress > 1/4\n          @flipAuto(false)\n        else\n          @flipRevert()\n      @touchStartX = null\n      @activeCursor = null\n\n    onTouchStart: (ev) ->\n      @hasTouchEvents = true\n      @swipeStart ev.changedTouches[0]\n    onTouchMove: (ev) ->\n      if @swipeMove ev.changedTouches[0]\n        ev.preventDefault() if ev.cancelable\n    onTouchEnd: (ev) -> @swipeEnd ev.changedTouches[0]\n\n    onPointerDown: (ev) ->\n      @hasPointerEvents = true\n      return if @hasTouchEvents\n      return if ev.which and ev.which != 1 # Ignore right-click\n      @swipeStart ev\n      try\n        ev.target.setPointerCapture ev.pointerId\n      catch\n\n    onPointerMove: (ev) -> @swipeMove ev unless @hasTouchEvents\n\n    onPointerUp: (ev) ->\n      return if @hasTouchEvents\n      @swipeEnd ev\n      try\n        ev.target.releasePointerCapture ev.pointerId\n      catch\n\n    onMouseDown: (ev) ->\n      return if @hasTouchEvents or @hasPointerEvents\n      return if ev.which and ev.which != 1 # Ignore right-click\n      @swipeStart ev\n    onMouseMove: (ev) ->\n      @swipeMove ev unless @hasTouchEvents or @hasPointerEvents\n    onMouseUp: (ev) ->\n      @swipeEnd ev unless @hasTouchEvents or @hasPointerEvents\n\n    dragScroll: (x, y) ->\n      @scrollLeft = @startScrollLeft - x\n      @scrollTop = @startScrollTop - y\n\n    onWheel: (ev) ->\n      if @zoom > 1 and @dragToScroll\n        @scrollLeft = @$refs.viewport.scrollLeft + ev.deltaX\n        @scrollTop = @$refs.viewport.scrollTop + ev.deltaY\n        ev.preventDefault() if ev.cancelable\n\n    preloadImages: (hiRes = false) ->\n      if Object.keys(@preloadedImages).length >= 10\n        @preloadedImages = {}\n      for i in [@currentPage - 3 .. @currentPage + 3]\n        url = @pageUrl i\n        if url\n          unless @preloadedImages[url]\n            img = new Image()\n            img.src = url\n            @preloadedImages[url] = img\n      if hiRes\n        for i in [@currentPage ... @currentPage + @displayedPages]\n          url = @pagesHiRes[i]\n          if url\n            unless @preloadedImages[url]\n              img = new Image()\n              img.src = url\n              @preloadedImages[url] = img\n      return\n\n  watch:\n    currentPage: ->\n      @leftPage = @currentPage\n      @rightPage = @currentPage + 1\n      @preloadImages()\n\n    centerOffset: ->\n      return if @animatingCenter\n      animate = => requestAnimationFrame =>\n        rate = 0.1\n        diff = @centerOffset - @currentCenterOffset\n        if Math.abs(diff) < 0.5\n          @currentCenterOffset = @centerOffset\n          @animatingCenter = false\n        else\n          @currentCenterOffset += diff * rate\n          animate()\n      @animatingCenter = true\n      animate()\n\n    scrollLeftLimited: (val) ->\n      if IE\n        requestAnimationFrame => @$refs.viewport.scrollLeft = val\n      else\n        @$refs.viewport.scrollLeft = val\n\n    scrollTopLimited: (val) ->\n      if IE\n        requestAnimationFrame => @$refs.viewport.scrollTop = val\n      else\n        @$refs.viewport.scrollTop = val\n\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:{ 'has-mouse': _vm.hasMouse },attrs:{\"id\":\"app\"},on:{\"touchstart\":function($event){_vm.hasMouse = false}}},[_c('Flipbook',{ref:\"flipbook\",staticClass:\"flipbook\",attrs:{\"pages\":_vm.pages,\"zooms\":[1]},on:{\"flip-left-start\":_vm.onFlipLeftStart,\"flip-left-end\":_vm.onFlipLeftEnd,\"flip-right-start\":_vm.onFlipRightStart,\"flip-right-end\":_vm.onFlipRightEnd},scopedSlots:_vm._u([{key:\"default\",fn:function(flipbook){return [_c('div',{staticClass:\"action-bar\"},[_c('left-icon',{staticClass:\"btn left\",class:{ disabled: !flipbook.canFlipLeft },on:{\"click\":flipbook.flipLeft}}),_c('plus-icon',{staticClass:\"btn plus\",class:{ disabled: !flipbook.canZoomIn },on:{\"click\":flipbook.zoomIn}}),_c('span',{staticClass:\"page-num\"},[_vm._v(\"\\n        Page \"+_vm._s(flipbook.page)+\" of \"+_vm._s(flipbook.numPages)+\"\\n      \")]),_c('minus-icon',{staticClass:\"btn minus\",class:{ disabled: !flipbook.canZoomOut },on:{\"click\":flipbook.zoomOut}}),_c('right-icon',{staticClass:\"btn right\",class:{ disabled: !flipbook.canFlipRight },on:{\"click\":flipbook.flipRight}})],1)]}}])})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_vm._t(\"default\",null,null,{\n    canFlipLeft: _vm.canFlipLeft,\n    canFlipRight: _vm.canFlipRight,\n    canZoomIn: _vm.canZoomIn,\n    canZoomOut: _vm.canZoomOut,\n    page: _vm.page,\n    numPages: _vm.numPages,\n    flipLeft: _vm.flipLeft,\n    flipRight: _vm.flipRight,\n    zoomIn: _vm.zoomIn,\n    zoomOut: _vm.zoomOut\n  }),_c('div',{ref:\"viewport\",staticClass:\"viewport\",class:{\n      zoom: _vm.zooming || _vm.zoom > 1,\n      'drag-to-scroll': _vm.dragToScroll\n    },style:({ cursor: _vm.cursor == 'grabbing' ? 'grabbing' : 'auto' }),on:{\"touchmove\":_vm.onTouchMove,\"pointermove\":_vm.onPointerMove,\"mousemove\":_vm.onMouseMove,\"touchend\":_vm.onTouchEnd,\"touchcancel\":_vm.onTouchEnd,\"pointerup\":_vm.onPointerUp,\"pointercancel\":_vm.onPointerUp,\"mouseup\":_vm.onMouseUp,\"wheel\":_vm.onWheel}},[_c('div',{staticClass:\"container\",style:({ transform: (\"scale(\" + _vm.zoom + \")\"), })},[_c('div',{staticClass:\"click-to-flip left\",style:({ cursor: _vm.canFlipLeft ? 'pointer' : 'auto'}),on:{\"click\":_vm.flipLeft}}),_c('div',{staticClass:\"click-to-flip right\",style:({ cursor: _vm.canFlipRight ? 'pointer' : 'auto'}),on:{\"click\":_vm.flipRight}}),_c('div',{style:({ transform: (\"translateX(\" + _vm.centerOffsetSmoothed + \"px)\") })},[(_vm.pageUrl(_vm.leftPage, true))?_c('img',{staticClass:\"page fixed\",style:({\n            width: _vm.pageWidth + 'px',\n            height: _vm.pageHeight + 'px',\n            left: _vm.xMargin + 'px',\n            top: _vm.yMargin + 'px'\n          }),attrs:{\"src\":_vm.pageUrl(_vm.leftPage, true)},on:{\"load\":function($event){return _vm.didLoadImage($event)}}}):_vm._e(),(_vm.displayedPages === 2 && _vm.pageUrl(_vm.rightPage, true))?_c('img',{staticClass:\"page fixed\",style:({\n            width: _vm.pageWidth + 'px',\n            height: _vm.pageHeight + 'px',\n            left: _vm.viewWidth / 2 + 'px',\n            top: _vm.yMargin + 'px'\n          }),attrs:{\"src\":_vm.pageUrl(_vm.rightPage, true)},on:{\"load\":function($event){return _vm.didLoadImage($event)}}}):_vm._e(),_c('div',{style:({ opacity: _vm.flip.opacity })},_vm._l((_vm.polygonArray),function(ref){\n            var key = ref[0];\n            var bgImage = ref[1];\n            var lighting = ref[2];\n            var bgPos = ref[3];\n            var transform = ref[4];\n            var z = ref[5];\nreturn _c('div',{key:key,staticClass:\"polygon\",class:{ blank: !bgImage },style:({\n              backgroundImage: bgImage,\n              backgroundSize: _vm.polygonBgSize,\n              backgroundPosition: bgPos,\n              width: _vm.polygonWidth,\n              height: _vm.polygonHeight,\n              transform: transform,\n              zIndex: z,\n            })},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(lighting.length),expression:\"lighting.length\"}],staticClass:\"lighting\",style:({ backgroundImage: lighting })})])}),0),_c('div',{staticClass:\"bounding-box\",style:({\n            left: _vm.boundingLeft + 'px',\n            top: _vm.yMargin + 'px',\n            width: _vm.boundingRight - _vm.boundingLeft + 'px',\n            height: _vm.pageHeight + 'px',\n            cursor: _vm.cursor\n          }),on:{\"touchstart\":_vm.onTouchStart,\"pointerdown\":_vm.onPointerDown,\"mousedown\":_vm.onMouseDown}})])])])],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import {\n  identity\n  multiply\n  perspective\n  translate\n  translate3d\n  rotateY\n  toString\n} from 'rematrix'\n\nexport default class Matrix\n  constructor: (arg) ->\n    if arg\n      if arg.m\n        @m = [arg.m...]\n      else\n        @m = [arg...]\n    else\n      @m = identity()\n\n  clone: -> new Matrix @\n\n  multiply: (m) -> @m = multiply @m, m\n\n  perspective: (d) -> @multiply perspective d\n\n  transformX: (x) -> (x * @m[0] + @m[12]) / (x * @m[3] + @m[15])\n\n  translate: (x, y) -> @multiply translate x, y\n\n  translate3d: (x, y, z) -> @multiply translate3d x, y, z\n\n  rotateY: (deg) -> @multiply rotateY deg\n\n  toString: -> toString @m\n","import mod from \"-!../node_modules/babel-loader/lib/index.js!../node_modules/coffee-loader/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./Flipbook.vue?vue&type=script&lang=coffee&\"; export default mod; export * from \"-!../node_modules/babel-loader/lib/index.js!../node_modules/coffee-loader/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./Flipbook.vue?vue&type=script&lang=coffee&\"","import { render, staticRenderFns } from \"./Flipbook.vue?vue&type=template&id=525bd611&scoped=true&\"\nimport script from \"./Flipbook.vue?vue&type=script&lang=coffee&\"\nexport * from \"./Flipbook.vue?vue&type=script&lang=coffee&\"\nimport style0 from \"./Flipbook.vue?vue&type=style&index=0&id=525bd611&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"525bd611\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div\n    id=\"app\"\n    :class=\"{ 'has-mouse': hasMouse }\"\n    @touchstart=\"hasMouse = false\"\n  >\n    <Flipbook\n      class=\"flipbook\"\n      :pages=\"pages\"\n      v-slot=\"flipbook\"\n      ref=\"flipbook\"\n      :zooms=\"[1]\"\n      @flip-left-start=\"onFlipLeftStart\"\n      @flip-left-end=\"onFlipLeftEnd\"\n      @flip-right-start=\"onFlipRightStart\"\n      @flip-right-end=\"onFlipRightEnd\"\n    >\n      <div class=\"action-bar\">\n        <left-icon\n          class=\"btn left\"\n          :class=\"{ disabled: !flipbook.canFlipLeft }\"\n          @click=\"flipbook.flipLeft\"\n        />\n        <plus-icon\n          class=\"btn plus\"\n          :class=\"{ disabled: !flipbook.canZoomIn }\"\n          @click=\"flipbook.zoomIn\"\n        />\n        <span class=\"page-num\">\n          Page {{ flipbook.page }} of {{ flipbook.numPages }}\n        </span>\n        <minus-icon\n          class=\"btn minus\"\n          :class=\"{ disabled: !flipbook.canZoomOut }\"\n          @click=\"flipbook.zoomOut\"\n        />\n        <right-icon\n          class=\"btn right\"\n          :class=\"{ disabled: !flipbook.canFlipRight }\"\n          @click=\"flipbook.flipRight\"\n        />\n      </div>\n    </Flipbook>\n  </div>\n</template>\n\n<script>\nimport 'vue-material-design-icons/styles.css'\nimport LeftIcon from 'vue-material-design-icons/ChevronLeftCircle'\nimport RightIcon from 'vue-material-design-icons/ChevronRightCircle'\nimport PlusIcon from 'vue-material-design-icons/PlusCircle'\nimport MinusIcon from 'vue-material-design-icons/MinusCircle'\nimport Flipbook from './Flipbook'\n\nexport default {\n  components: { Flipbook, LeftIcon, RightIcon, PlusIcon, MinusIcon },\n  data() {\n    const pages = [null]\n    for (let i = 1; i < 42; i++) {\n      pages.push(`img/mniszek1.3.docx-${ i < 10 ? `0${ i }` : i }.jpg`)\n    }\n    return {\n      pages,\n      pagesHiRes: pages,\n      hasMouse: true\n    }\n  },\n  methods: {\n    onFlipLeftStart(page) {\n      // console.log 'flip-left-start', page\n    },\n    onFlipLeftEnd(page) {\n      // console.log 'flip-left-end', page\n    },\n    onFlipRightStart(page) {\n      // console.log 'flip-right-start', page\n    },\n    onFlipRightEnd(page) {\n      // console.log 'flip-right-end', page\n    },\n  },\n  mounted() {\n    // window.addEventListener('keydown', (ev) => {\n    //   flipbook = this.$refs.flipbook\n    //   return unless flipbook\n    //   flipbook.flipLeft() if ev.keyCode == 37 and flipbook.canFlipLeft\n    //   flipbook.flipRight() if ev.keyCode == 39 and flipbook.canFlipRight\n    // })\n  }\n}\n\n</script>\n\n<style>\nhtml, body {\n  margin: 0;\n  padding: 0;\n}\n\n#app {\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  height: 100vh;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  background-color: #333;\n  color: #ccc;\n  overflow: hidden;\n}\n\na {\n  color: inherit;\n}\n\n.action-bar {\n  width: 100%;\n  height: 30px;\n  padding: 10px 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.action-bar .btn {\n  font-size: 30px;\n  color: #999;\n}\n\n.action-bar .btn svg {\n  bottom: 0;\n}\n\n.action-bar .btn:not(:first-child) {\n  margin-left: 10px;\n}\n\n.has-mouse .action-bar .btn:hover {\n  color: #ccc;\n  filter: drop-shadow(1px 1px 5px #000);\n  cursor: pointer;\n}\n\n.action-bar .btn:active {\n  filter: none !important;\n}\n\n.action-bar .btn.disabled {\n  color: #666;\n  pointer-events: none;\n}\n\n.action-bar .page-num {\n  font-size: 12px;\n  margin-left: 10px;\n}\n\n.flipbook .viewport {\n  width: 90vw;\n  height: calc(100vh - 50px - 40px);\n}\n\n.flipbook .bounding-box {\n  box-shadow: 0 0 20px #000;\n}\n\n.credit {\n  font-size: 12px;\n  line-height: 20px;\n  margin: 10px;\n}\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=9023a3c8&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport App from './App.vue'\n\nVue.config.productionTip = false\n\nnew Vue\n  render: (h) -> h(App)\n.$mount('#app')\n","exports = module.exports = require(\"../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".viewport[data-v-525bd611]{-webkit-overflow-scrolling:touch;width:100%;height:100%}.viewport.zoom[data-v-525bd611]{overflow:scroll}.viewport.zoom.drag-to-scroll[data-v-525bd611]{overflow:hidden}.container[data-v-525bd611]{position:relative;width:100%;-webkit-transform-origin:top left;transform-origin:top left}.click-to-flip[data-v-525bd611],.container[data-v-525bd611]{height:100%;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.click-to-flip[data-v-525bd611]{position:absolute;width:50%;top:0}.click-to-flip.left[data-v-525bd611]{left:0}.click-to-flip.right[data-v-525bd611]{right:0}.bounding-box[data-v-525bd611]{position:absolute;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.page[data-v-525bd611],.polygon[data-v-525bd611]{position:absolute;-webkit-backface-visibility:hidden;backface-visibility:hidden}.polygon[data-v-525bd611]{top:0;left:0;background-repeat:no-repeat;-webkit-transform-origin:center left;transform-origin:center left}.polygon.blank[data-v-525bd611]{background-color:#ddd}.polygon .lighting[data-v-525bd611]{width:100%;height:100%}\", \"\"]);\n\n// exports\n","exports = module.exports = require(\"../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"body,html{margin:0;padding:0}#app{font-family:Avenir,Helvetica,Arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;height:100vh;display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-align:center;align-items:center;background-color:#333;color:#ccc;overflow:hidden}a{color:inherit}.action-bar{width:100%;height:30px;padding:10px 0;display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center;-webkit-box-align:center;align-items:center}.action-bar .btn{font-size:30px;color:#999}.action-bar .btn svg{bottom:0}.action-bar .btn:not(:first-child){margin-left:10px}.has-mouse .action-bar .btn:hover{color:#ccc;-webkit-filter:drop-shadow(1px 1px 5px #000);filter:drop-shadow(1px 1px 5px #000);cursor:pointer}.action-bar .btn:active{-webkit-filter:none!important;filter:none!important}.action-bar .btn.disabled{color:#666;pointer-events:none}.action-bar .page-num{font-size:12px;margin-left:10px}.flipbook .viewport{width:90vw;height:calc(100vh - 90px)}.flipbook .bounding-box{box-shadow:0 0 20px #000}.credit{font-size:12px;line-height:20px;margin:10px}\", \"\"]);\n\n// exports\n","import mod from \"-!../node_modules/vue-style-loader/index.js??ref--6-oneOf-1-0!../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./Flipbook.vue?vue&type=style&index=0&id=525bd611&scoped=true&lang=css&\"; export default mod; export * from \"-!../node_modules/vue-style-loader/index.js??ref--6-oneOf-1-0!../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./Flipbook.vue?vue&type=style&index=0&id=525bd611&scoped=true&lang=css&\"","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./Flipbook.vue?vue&type=style&index=0&id=525bd611&scoped=true&lang=css&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"37a402bd\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"1f50beb8\", content, true, {\"sourceMap\":false,\"shadowMode\":false});"],"sourceRoot":""}